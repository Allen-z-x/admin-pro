import{d as $,r as O,m as B,c as m,f as r,n as u,a as n,g as V,p as L,t as k,b as s,q as D,w as o,s as R,e as T,v as U,x as F,F as z,y as P,u as H,z as E,A as N,B as A,C as G,D as q,G as J,H as M,I as K,J as Q,K as W,L as X,M as Y,O as Z,P as ee,o as te,Q as ne,R as oe,S as le,T as ae,U as se,V as re,W as ue,X as ie}from"./vendor-D0oV6N-p.js";import{u as _e,g as ce}from"./common-DPZ3XbQ7.js";import{u as de}from"./shared/home/index-CiAKRu_w.js";const pe={class:"header"},me={class:"flex-center m05 color-dark-black"},fe={class:"setting-header"},ge={class:"out"},ve=$({__name:"Header",setup(S){const{userState:a}=de(),e=a.username;let _=O(!1);const f=B(),y=()=>{_.value=!0},g=()=>{_.value=!1},v=()=>{sessionStorage.removeItem("userInfo"),f.push("/login")};return(l,t)=>{const c=L,d=D,C=R,w=T,p=F;return r(),m(z,null,[u("div",pe,[t[1]||(t[1]=u("div",{class:"flex-center"},"logo区域",-1)),t[2]||(t[2]=u("div",{class:"flex-grow"},null,-1)),u("div",me,[n(c),V(k(s(e)),1)]),u("div",{class:"flex-center m05 color-dark-black setting",onClick:y},[n(d)])]),n(p,{modelValue:s(_),"onUpdate:modelValue":t[0]||(t[0]=b=>U(_)?_.value=b:_=b),"show-close":!1,"with-header":!1,size:"300"},{default:o(()=>[u("div",fe,[t[3]||(t[3]=u("h2",null,"项目配置",-1)),n(C,{onClick:g})]),u("div",ge,[n(w,{type:"primary",onClick:v},{default:o(()=>t[4]||(t[4]=[V("退出")])),_:1,__:[4]})])]),_:1},8,["modelValue"])],64)}}}),be=P(ve,[["__scopeId","data-v-6216febd"]]),he=$({__name:"index",setup(S){var g;const a=_e(),e=B(),_=H();console.log("router.getRoutes()",e.options.routes[0]);const f=(g=e.options.routes[0].children)==null?void 0:g.filter(v=>{var l;return(l=v.meta)==null?void 0:l.isShow}),y=_.path;return(v,l)=>{const t=G,c=K,d=Q,C=J,w=q,p=Z,b=X,I=A("router-view"),h=W,j=N;return r(),E(j,null,{default:o(()=>[n(t,null,{default:o(()=>[n(be)]),_:1}),n(j,null,{default:o(()=>[n(w,{width:"200px"},{default:o(()=>[n(C,{"default-active":s(y),ellipsis:!1,router:""},{default:o(()=>[(r(!0),m(z,null,M(s(f),i=>(r(),m(z,{key:i.path},[i.children?(r(),E(d,{key:1,index:i.path},{title:o(()=>{var x;return[u("span",null,k((x=i.meta)==null?void 0:x.title),1)]}),default:o(()=>[(r(!0),m(z,null,M(i.children,x=>(r(),E(c,{key:x.path,index:x.path},{default:o(()=>[u("span",null,k(x.meta.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(r(),E(c,{key:0,index:i.path},{default:o(()=>[u("span",null,k(i.meta.title),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active"])]),_:1}),n(h,null,{default:o(()=>[n(b,{"separator-icon":s(Y)},{default:o(()=>[(r(!0),m(z,null,M(s(a).title,i=>(r(),E(p,{key:i,to:{name:i}},{default:o(()=>[V(k(i),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"]),n(I)]),_:1})]),_:1})]),_:1})}}}),xe=P(he,[["__scopeId","data-v-2683f2b5"]]),$e=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Se={},ye={class:"wrap-content"};function Ce(S,a){return r(),m("div",ye,a[0]||(a[0]=[u("h1",null,"Vite + Vue3 + TypeScript + Element-Plus 企业中台最佳实践",-1)]))}const we=P(Se,[["render",Ce],["__scopeId","data-v-fbbca9af"]]),je=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Ee=async(S={})=>ce({},"/projects",S),ke={class:"wrap-content"},ze=$({__name:"index",setup(S){let a=O([]),e=ee({userId:0,id:0,title:"",introduce:"",currentPage:1,dataCount:0,pageSize:5});const _=()=>{console.log(a.value);let l=[];e.title||e.introduce?(e.title&&(l=a.value.filter(t=>t.title.indexOf(e.title)!==-1)),e.introduce&&(l=a.value.filter(t=>t.introduce.indexOf(e.introduce)!==-1))):(console.log(a.value),l=a.value),a.value=l,e.currentPage=1,e.dataCount=a.value.length},f=()=>{Ee().then(l=>{a.value=l.data,e.dataCount=l.data.length})};te(()=>{f()});let y=ne(()=>a.value.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize));const g=l=>{e.currentPage=l},v=l=>{e.pageSize=l};return oe([()=>e.title,()=>e.introduce],()=>{!e.title&&!e.introduce&&f()}),(l,t)=>{const c=ae,d=le,C=T,w=se,p=re,b=ue,I=ie;return r(),m("div",ke,[n(w,{inline:!0,label:"名称",model:s(e),class:"search-form"},{default:o(()=>[n(d,null,{default:o(()=>[n(c,{modelValue:s(e).title,"onUpdate:modelValue":t[0]||(t[0]=h=>s(e).title=h),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),n(d,null,{default:o(()=>[n(c,{modelValue:s(e).introduce,"onUpdate:modelValue":t[1]||(t[1]=h=>s(e).introduce=h),placeholder:"请输入详情"},null,8,["modelValue"])]),_:1}),n(d,null,{default:o(()=>[n(C,{type:"primary",onClick:t[2]||(t[2]=h=>_())},{default:o(()=>t[3]||(t[3]=[V("查询")])),_:1,__:[3]})]),_:1})]),_:1},8,["model"]),n(b,{data:s(y),border:"",style:{width:"100%"}},{default:o(()=>[n(p,{prop:"id",label:"序号",width:"180"}),n(p,{prop:"title",label:"名称",width:"180"}),n(p,{prop:"introduce",label:"详情"})]),_:1},8,["data"]),n(I,{class:"pagination",background:"",layout:"sizes, prev, pager, next",total:s(e).dataCount,"page-size":s(e).pageSize,"page-sizes":[5,10,15,20],onCurrentChange:g,onSizeChange:v},null,8,["total","page-size"])])}}}),Ve=P(ze,[["__scopeId","data-v-ad76bf3b"]]),Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));export{je as a,Oe as b,$e as i};
