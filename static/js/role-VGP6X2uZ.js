import{d as h,r as b,o as x,c as y,a as t,w as o,b as g,U as E,W as C,m as B,f as k,S as w,e as T,g as r,V as I,Y as N,l as u}from"./vendor-D0oV6N-p.js";import{g as v}from"./shared/role/user-CI7eup2_.js";import"./common-DPZ3XbQ7.js";const L=h({__name:"index",setup(M){const m=B();let a=b([]);x(()=>{v().then(e=>{a.value=e.data})});const p=()=>{N.prompt("请输入角色名称","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e})=>{e&&(a.value.push({roleId:a.value.length+1,roleName:e,authority:[]}),u({type:"success",message:`${e}添加成功`}))}).catch(()=>{u({type:"info",message:"点击了取消按钮"})})},_=e=>{m.push({path:"auth",query:{id:e.roleId,auth:e.authority}})};return(e,l)=>{const s=T,d=w,c=E,n=I,i=C;return k(),y("div",null,[t(c,null,{default:o(()=>[t(d,null,{default:o(()=>[t(s,{type:"primary",onClick:p},{default:o(()=>l[0]||(l[0]=[r("新增角色")])),_:1,__:[0]})]),_:1})]),_:1}),t(i,{data:g(a),border:"",style:{width:"100%"}},{default:o(()=>[t(n,{prop:"roleId",label:"角色id",width:"180px"}),t(n,{prop:"roleName",label:"角色名称",width:"180px"}),t(n,{label:"操作"},{default:o(f=>[t(s,{type:"primary",size:"small",onClick:R=>_(f.row)},{default:o(()=>l[1]||(l[1]=[r("修改权限")])),_:2,__:[1]},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{L as default};
